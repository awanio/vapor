get:
  summary: Get storage volume details
  tags:
    - Virtualization Volume
  security:
    - bearerAuth: []
  parameters:
    - name: pool_name
      in: path
      required: true
      schema:
        type: string
      description: Storage pool name
    - name: vol_name
      in: path
      required: true
      schema:
        type: string
      description: Storage volume name
  responses:
    '200':
      description: Storage volume details
      content:
        application/json:
          schema:
            $ref: ../components/schemas/StorageVolumeDetailResponse.yaml
    '404':
      $ref: ../components/responses/NotFound.yaml
    '500':
      $ref: ../components/responses/InternalError.yaml

delete:
  summary: Delete a storage volume
  description: |
    Deletes a storage volume from the specified storage pool.

    By default, the API will prevent deletion of volumes that are still in
    use by one or more virtual machines. To force deletion of an in-use
    volume, set the `force` query parameter to `true`.
  tags:
    - Virtualization Volume
  security:
    - bearerAuth: []
  parameters:
    - name: pool_name
      in: path
      required: true
      schema:
        type: string
      description: Storage pool name
    - name: vol_name
      in: path
      required: true
      schema:
        type: string
      description: Storage volume name
    - name: force
      in: query
      required: false
      schema:
        type: boolean
        default: false
      description: >-
        When set to `true`, forces deletion of the volume even if it is
        currently attached to one or more virtual machines.
  responses:
    '204':
      description: Storage volume deleted successfully
    '404':
      $ref: ../components/responses/NotFound.yaml
    '409':
      description: |
        Conflict - the volume is in use by one or more virtual machines and
        `force` was not set to `true`.
      content:
        application/json:
          schema:
            $ref: ../components/schemas/ErrorResponse.yaml
    '500':
      $ref: ../components/responses/InternalError.yaml
