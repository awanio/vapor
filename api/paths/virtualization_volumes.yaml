get:
  summary: List all storage volumes
  description: >
    Retrieves a list of all storage volumes across all storage pools in the
    libvirt environment. This provides a consolidated view of all volumes
    regardless of which pool they belong to.
  tags:
    - Virtualization Storage
  operationId: listAllVolumes
  responses:
    '200':
      description: Volumes retrieved successfully
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                type: string
                enum: [success]
                example: success
              data:
                type: array
                items:
                  $ref: ../components/schemas/StorageVolumeWithPool.yaml
            required:
              - status
              - data
          example:
            status: success
            data:
              - name: "vm01.qcow2"
                type: "file"
                capacity: 10737418240
                allocation: 2147483648
                path: "/var/lib/libvirt/images/vm01.qcow2"
                format: "qcow2"
                created_at: "2024-08-22T10:30:00Z"
                pool_name: "default"
              - name: "vm02.qcow2"
                type: "file"
                capacity: 21474836480
                allocation: 5368709120
                path: "/var/lib/libvirt/images/vm02.qcow2"
                format: "qcow2"
                created_at: "2024-08-22T11:00:00Z"
                pool_name: "default"
              - name: "data-volume"
                type: "file"
                capacity: 107374182400
                allocation: 53687091200
                path: "/mnt/storage/data-volume"
                format: "raw"
                created_at: "2024-08-20T09:15:00Z"
                pool_name: "data-pool"
    '500':
      description: Internal server error
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                type: string
                enum: [error]
                example: error
              error:
                type: string
                description: Error message describing what went wrong
                example: "failed to list storage pools: connection refused"
            required:
              - status
              - error
  security:
    - bearerAuth: []
