type: object
required:
  - name
  - display_name
  - os_type
  - os_variant
properties:
  name:
    type: string
    description: Template name (must be unique)
    example: ubuntu-22.04
    pattern: ^[a-z0-9][a-z0-9-_.]*$
    minLength: 1
    maxLength: 64
  display_name:
    type: string
    description: Display name for the template
    example: Ubuntu 22.04 LTS Server
    minLength: 1
    maxLength: 255
  description:
    type: string
    description: Template description
    example: Ubuntu 22.04 LTS Server optimized for cloud deployments
    maxLength: 1024
  os_type:
    type: string
    description: Operating system type
    enum:
      - linux
      - windows
      - bsd
      - other
    example: linux
  os_variant:
    type: string
    description: OS variant identifier for libvirt
    example: ubuntu22.04
  min_memory:
    type: integer
    description: Minimum memory in MB
    minimum: 128
    example: 512
  recommended_memory:
    type: integer
    description: Recommended memory in MB
    minimum: 256
    example: 2048
  min_vcpus:
    type: integer
    description: Minimum vCPUs
    minimum: 1
    maximum: 256
    example: 1
  recommended_vcpus:
    type: integer
    description: Recommended vCPUs
    minimum: 1
    maximum: 256
    example: 2
  min_disk:
    type: integer
    description: Minimum disk size in GB
    minimum: 1
    example: 10
  recommended_disk:
    type: integer
    description: Recommended disk size in GB
    minimum: 1
    example: 20
  disk_bus:
    type: string
    description: Recommended disk bus type
    enum:
      - virtio
      - ide
      - scsi
      - sata
    default: virtio
    example: virtio
  network_model:
    type: string
    description: Recommended network model
    enum:
      - virtio
      - e1000
      - rtl8139
    default: virtio
    example: virtio
  features:
    type: object
    description: Required or recommended features
    properties:
      uefi:
        type: boolean
        description: Use UEFI boot
        default: false
        example: true
      secure_boot:
        type: boolean
        description: Enable secure boot
        default: false
        example: false
      tpm:
        type: boolean
        description: Add TPM device
        default: false
        example: false
      virtio_drivers:
        type: boolean
        description: Requires VirtIO drivers
        default: true
        example: true
  cloud_init_support:
    type: boolean
    description: Supports cloud-init
    default: false
    example: true
  default_user:
    type: string
    description: Default username for the OS
    example: ubuntu
  icon:
    type: string
    description: Icon identifier or URL
    example: ubuntu
  tags:
    type: array
    items:
      type: string
    description: Template tags for categorization
    example:
      - server
      - lts
      - cloud
  is_active:
    type: boolean
    description: Whether template is active
    default: true
    example: true
