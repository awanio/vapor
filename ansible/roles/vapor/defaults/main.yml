---
# Vapor role default variables

# Version to install
vapor_version: "v0.1.0-alpha.0"

# Base download URL
vapor_base_url: "https://storage.awan.io/assets/vapor"

# Installation paths
vapor_install_dir: "/usr/local/bin"
vapor_config_dir: "/etc/vapor"
vapor_log_dir: "/var/log/vapor"
vapor_app_dir: "/var/lib/vapor"
vapor_certs_dir: "{{ vapor_app_dir }}/certs"

# Server configuration
vapor_port: 7770
vapor_host: "0.0.0.0"

# TLS/HTTPS configuration (enabled by default for security)
vapor_tls_enabled: true

# JWT secret (auto-generated if not provided)
vapor_jwt_secret: ""

# OVMF/UEFI firmware paths (auto-detected if empty)
vapor_ovmf_code_path: ""
vapor_ovmf_vars_path: ""
vapor_ovmf_code_secure_path: ""
vapor_ovmf_vars_secure_path: ""

# OVMF packages per distro family
vapor_ovmf_packages_debian:
  - ovmf
vapor_ovmf_packages_redhat:
  - edk2-ovmf

# OVMF candidate paths
vapor_ovmf_candidates_nonsecure:
  - { code: "/usr/share/OVMF/OVMF_CODE.fd", vars: "/usr/share/OVMF/OVMF_VARS.fd" }
  - { code: "/usr/share/edk2/ovmf/OVMF_CODE.fd", vars: "/usr/share/edk2/ovmf/OVMF_VARS.fd" }
  - { code: "/usr/share/edk2/ovmf/OVMF_CODE_4M.fd", vars: "/usr/share/edk2/ovmf/OVMF_VARS_4M.fd" }
vapor_ovmf_candidates_secure:
  - { code: "/usr/share/OVMF/OVMF_CODE.secboot.fd", vars: "/usr/share/OVMF/OVMF_VARS.secboot.fd" }
  - { code: "/usr/share/OVMF/OVMF_CODE.secboot.fd", vars: "/usr/share/OVMF/OVMF_VARS.ms.fd" }
  - { code: "/usr/share/OVMF/OVMF_CODE.secboot.fd", vars: "/usr/share/OVMF/OVMF_VARS.fd" }
  - { code: "/usr/share/OVMF/OVMF_CODE_4M.secboot.fd", vars: "/usr/share/OVMF/OVMF_VARS_4M.secboot.fd" }
  - { code: "/usr/share/OVMF/OVMF_CODE_4M.secboot.fd", vars: "/usr/share/OVMF/OVMF_VARS_4M.ms.fd" }
  - { code: "/usr/share/OVMF/OVMF_CODE_4M.secboot.fd", vars: "/usr/share/OVMF/OVMF_VARS_4M.fd" }
  - { code: "/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd", vars: "/usr/share/edk2/ovmf/OVMF_VARS.secboot.fd" }
  - { code: "/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd", vars: "/usr/share/edk2/ovmf/OVMF_VARS.ms.fd" }
  - { code: "/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd", vars: "/usr/share/edk2/ovmf/OVMF_VARS.fd" }
  - { code: "/usr/share/edk2/ovmf/OVMF_CODE_4M.secboot.fd", vars: "/usr/share/edk2/ovmf/OVMF_VARS_4M.secboot.fd" }
  - { code: "/usr/share/edk2/ovmf/OVMF_CODE_4M.secboot.fd", vars: "/usr/share/edk2/ovmf/OVMF_VARS_4M.ms.fd" }
  - { code: "/usr/share/edk2/ovmf/OVMF_CODE_4M.secboot.fd", vars: "/usr/share/edk2/ovmf/OVMF_VARS_4M.fd" }

# Service user (root required for system management)
vapor_user: root
vapor_group: root
